<?xml version="1.0" encoding="UTF-8"?>

<mapper namespace="com.zyimm.dao.mapper.UserMapper">
    <!-- 使用resultMap映射实体类和字段之间的一一对应关系 -->
    <!-- 
     方式二：嵌套查询：通过执行另外一个SQL映射语句来返回预期的复杂类型
         SELECT * FROM class WHERE c_id=1;
         SELECT * FROM teacher WHERE t_id=1   //1 是上一个查询得到的teacher_id的值
     -->
    <resultMap type="com.zyimm.dao.entity.UserEntity" id="UserInfoResultMap">
        <association property="info" column="id" select="getInfo" />
    </resultMap>

    <select id="getUserInfoById" parameterType="Long" resultMap="UserInfoResultMap">
        SELECT * FROM `exam`.`user` WHERE id = #{id}
    </select>


    <select id="getInfo" parameterType="Long" resultType="com.zyimm.dao.entity.UserInfoEntity">
         SELECT * FROM `exam`.`user_info` WHERE member_id=#{id}
      </select>

</mapper>